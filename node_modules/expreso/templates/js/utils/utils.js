
const strUrl = 'https://user:pass@sub.example.com:8080/p/a/t/h?query=Fooo#hash'
const url = require('url')

// 1. Url parse
const newUrl = new URL(strUrl)
const newUrlBase = new URL('../cats', 'http://www.example.com/dogs')
const parsedUrl = url.parse(strUrl, true)

const obj = {
  protocol,
  username, password,
  hostname, port,
  path,
  hash,
  search, // URLSearchParams { 'query' => 'string' }
  searchParams, // '?query=string'
  host, // sub.example.com:8080'
  origin, // https://sub.example.com:8080
  href
} = newUrl

console.log(obj, newUrl.searchParams.get('query'))

// 2. DNS
const dns = require('dns')

dns.lookup('google.com', (err, addr) => {
  err && console.error(err)
  console.log(addr)
  dns.reverse(addr, (_, reversed) => console.log(`reversed`, reversed))
})

console.log('servers:', dns.getServers())
