
const express = require('express')

const app = module.exports = express()
  .set('port', process.env.PORT)
  .use(express.json())
  .get('/', (req, res) => res.send({ 'port': app.get('port') }))
  .get('/users/:id', (req, res) => res.send({ id: req.params.id, name: `User ${req.params.id}` }))
  .get('/pets/:id', (req, res) => res.send({ id: req.params.id, name: `Pet ${req.params.id}` }))

if (require.main === module) {
  const srv = app.listen(app.get('port') || 1111, () => console.info(`Server started http:/localhost:${srv.address().port}`))
}
